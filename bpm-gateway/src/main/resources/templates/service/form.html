<div class="content" th:fragment="content">
    <h2 th:text="${serviceConfig.id == null} ? 'Add Service Config' : 'Edit Service Config'"></h2>
    <form th:action="@{/ui/service/save}" th:object="${serviceConfig}" method="post">
        <input type="hidden" th:field="*{id}"/>
        <div class="row g-3">
            <div class="col-md-6">
                <label class="form-label">Service Code</label>
                <input type="text" th:field="*{serviceCode}" class="form-control" required>
            </div>
            <div class="col-md-6">
                <label class="form-label">Service Type</label>
                <input type="text" th:field="*{serviceType}" class="form-control" required>
            </div>

            <div class="col-md-6">
                <label class="form-label">Target URL</label>
                <input type="url" th:field="*{targetUrl}" class="form-control" required>
            </div>
            <div class="col-md-6">
                <label class="form-label">HTTP Method</label>
                <select th:field="*{httpMethod}" class="form-select" required>
					<option value="">-- Select Method --</option>
					<option value="GET">GET</option>
					<option value="POST">POST</option>
					<option value="PUT">PUT</option>
					<option value="DELETE">DELETE</option>
                </select>
            </div>

            <div class="col-md-6">
                <label class="form-label">DB Datasource</label>
                <input type="text" th:field="*{dbDatasource}" class="form-control">
            </div>
            <div class="col-md-6">
                <label class="form-label">SQL Type</label>
                <input type="text" th:field="*{sqlType}" class="form-control">
            </div>

            <div class="col-md-12">
                <label class="form-label">SQL Statement</label>
                <textarea th:field="*{sqlStatement}" class="form-control" rows="3"></textarea>
            </div>

            <div class="col-md-12">
                <label class="form-label">Headers (JSON)</label>
                <textarea th:field="*{headers}" class="form-control" rows="2"></textarea>
            </div>

            <div class="col-md-12">
                <label class="form-label">Payload Template</label>
                <textarea th:field="*{payloadTemplate}" class="form-control" rows="2"></textarea>
            </div>

            <div class="col-md-4">
                <label class="form-label">Version</label>
                <input type="number" th:field="*{version}" class="form-control" min="1" required>
            </div>

            <div class="col-md-4 form-check mt-4">
                <input type="checkbox" th:field="*{logEnabled}" class="form-check-input" id="logEnabled">
                <label class="form-check-label" for="logEnabled">Enable Logging</label>
            </div>

            <div class="col-md-4 form-check mt-4">
                <input type="checkbox" th:field="*{active}" class="form-check-input" id="active">
                <label class="form-check-label" for="active">Active</label>
            </div>
        </div>

        <div class="mt-4">
            <button type="submit" class="btn btn-success">Save</button>
            <a th:href="@{/ui/service}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
